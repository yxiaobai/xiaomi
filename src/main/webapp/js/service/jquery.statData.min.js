!function (a) {
    "use strict";
    function b(a, b) {
        var c = (65535 & a) + (65535 & b), d = (a >> 16) + (b >> 16) + (c >> 16);
        return d << 16 | 65535 & c
    }

    function c(a, b) {
        return a << b | a >>> 32 - b
    }

    function d(a, d, e, f, g, h) {
        return b(c(b(b(d, a), b(f, h)), g), e)
    }

    function e(a, b, c, e, f, g, h) {
        return d(b & c | ~b & e, a, b, f, g, h)
    }

    function f(a, b, c, e, f, g, h) {
        return d(b & e | c & ~e, a, b, f, g, h)
    }

    function g(a, b, c, e, f, g, h) {
        return d(b ^ c ^ e, a, b, f, g, h)
    }

    function h(a, b, c, e, f, g, h) {
        return d(c ^ (b | ~e), a, b, f, g, h)
    }

    function i(a, c) {
        a[c >> 5] |= 128 << c % 32, a[(c + 64 >>> 9 << 4) + 14] = c;
        var d, i, j, k, l, m = 1732584193, n = -271733879, o = -1732584194, p = 271733878;
        for (d = 0; d < a.length; d += 16)i = m, j = n, k = o, l = p, m = e(m, n, o, p, a[d], 7, -680876936), p = e(p, m, n, o, a[d + 1], 12, -389564586), o = e(o, p, m, n, a[d + 2], 17, 606105819), n = e(n, o, p, m, a[d + 3], 22, -1044525330), m = e(m, n, o, p, a[d + 4], 7, -176418897), p = e(p, m, n, o, a[d + 5], 12, 1200080426), o = e(o, p, m, n, a[d + 6], 17, -1473231341), n = e(n, o, p, m, a[d + 7], 22, -45705983), m = e(m, n, o, p, a[d + 8], 7, 1770035416), p = e(p, m, n, o, a[d + 9], 12, -1958414417), o = e(o, p, m, n, a[d + 10], 17, -42063), n = e(n, o, p, m, a[d + 11], 22, -1990404162), m = e(m, n, o, p, a[d + 12], 7, 1804603682), p = e(p, m, n, o, a[d + 13], 12, -40341101), o = e(o, p, m, n, a[d + 14], 17, -1502002290), n = e(n, o, p, m, a[d + 15], 22, 1236535329), m = f(m, n, o, p, a[d + 1], 5, -165796510), p = f(p, m, n, o, a[d + 6], 9, -1069501632), o = f(o, p, m, n, a[d + 11], 14, 643717713), n = f(n, o, p, m, a[d], 20, -373897302), m = f(m, n, o, p, a[d + 5], 5, -701558691), p = f(p, m, n, o, a[d + 10], 9, 38016083), o = f(o, p, m, n, a[d + 15], 14, -660478335), n = f(n, o, p, m, a[d + 4], 20, -405537848), m = f(m, n, o, p, a[d + 9], 5, 568446438), p = f(p, m, n, o, a[d + 14], 9, -1019803690), o = f(o, p, m, n, a[d + 3], 14, -187363961), n = f(n, o, p, m, a[d + 8], 20, 1163531501), m = f(m, n, o, p, a[d + 13], 5, -1444681467), p = f(p, m, n, o, a[d + 2], 9, -51403784), o = f(o, p, m, n, a[d + 7], 14, 1735328473), n = f(n, o, p, m, a[d + 12], 20, -1926607734), m = g(m, n, o, p, a[d + 5], 4, -378558), p = g(p, m, n, o, a[d + 8], 11, -2022574463), o = g(o, p, m, n, a[d + 11], 16, 1839030562), n = g(n, o, p, m, a[d + 14], 23, -35309556), m = g(m, n, o, p, a[d + 1], 4, -1530992060), p = g(p, m, n, o, a[d + 4], 11, 1272893353), o = g(o, p, m, n, a[d + 7], 16, -155497632), n = g(n, o, p, m, a[d + 10], 23, -1094730640), m = g(m, n, o, p, a[d + 13], 4, 681279174), p = g(p, m, n, o, a[d], 11, -358537222), o = g(o, p, m, n, a[d + 3], 16, -722521979), n = g(n, o, p, m, a[d + 6], 23, 76029189), m = g(m, n, o, p, a[d + 9], 4, -640364487), p = g(p, m, n, o, a[d + 12], 11, -421815835), o = g(o, p, m, n, a[d + 15], 16, 530742520), n = g(n, o, p, m, a[d + 2], 23, -995338651), m = h(m, n, o, p, a[d], 6, -198630844), p = h(p, m, n, o, a[d + 7], 10, 1126891415), o = h(o, p, m, n, a[d + 14], 15, -1416354905), n = h(n, o, p, m, a[d + 5], 21, -57434055), m = h(m, n, o, p, a[d + 12], 6, 1700485571), p = h(p, m, n, o, a[d + 3], 10, -1894986606), o = h(o, p, m, n, a[d + 10], 15, -1051523), n = h(n, o, p, m, a[d + 1], 21, -2054922799), m = h(m, n, o, p, a[d + 8], 6, 1873313359), p = h(p, m, n, o, a[d + 15], 10, -30611744), o = h(o, p, m, n, a[d + 6], 15, -1560198380), n = h(n, o, p, m, a[d + 13], 21, 1309151649), m = h(m, n, o, p, a[d + 4], 6, -145523070), p = h(p, m, n, o, a[d + 11], 10, -1120210379), o = h(o, p, m, n, a[d + 2], 15, 718787259), n = h(n, o, p, m, a[d + 9], 21, -343485551), m = b(m, i), n = b(n, j), o = b(o, k), p = b(p, l);
        return [n, o]
    }

    function j(a) {
        var b, c = "";
        for (b = 0; b < 32 * a.length; b += 8)c += String.fromCharCode(255 & a[b >> 5] >>> b % 32);
        return c
    }

    function k(a) {
        var b, c = [];
        for (c[(a.length >> 2) - 1] = void 0, b = 0; b < c.length; b += 1)c[b] = 0;
        for (b = 0; b < 8 * a.length; b += 8)c[b >> 5] |= (255 & a.charCodeAt(b / 8)) << b % 32;
        return c
    }

    function l(a) {
        return j(i(k(a), 8 * a.length))
    }

    function m(a, b) {
        var c, g, d = k(a), e = [], f = [];
        for (e[15] = f[15] = void 0, d.length > 16 && (d = i(d, 8 * a.length)), c = 0; 16 > c; c += 1)e[c] = 909522486 ^ d[c], f[c] = 1549556828 ^ d[c];
        return g = i(e.concat(k(b)), 512 + 8 * b.length), j(i(f.concat(g), 640))
    }

    function n(a) {
        var d, e, b = "0123456789abcdef", c = "";
        for (e = 0; e < a.length; e += 1)d = a.charCodeAt(e), c += b.charAt(15 & d >>> 4) + b.charAt(15 & d);
        return c
    }

    function o(a) {
        return unescape(encodeURIComponent(a))
    }

    function p(a) {
        return l(o(a))
    }

    function q(a) {
        return n(p(a))
    }

    function r(a, b) {
        return m(o(a), o(b))
    }

    function s(a, b) {
        return n(r(a, b))
    }

    function t(a, b, c) {
        return b ? c ? r(b, a) : s(b, a) : c ? p(a) : q(a)
    }

    "function" == typeof define && define.amd ? define(function () {
            return t
        }) : a.md5 = t
}(this), ~function ($) {
    "use strict";
    function getPcid() {
        var a = /\/(index.php|index.html|index.htm|index)$/, b = location.protocol + "//", c = location.host, d = location.pathname.replace(a, "/"), e = b + c + d;
        return md5("undefined" != typeof _STAT_HASHNAME && "" != _STAT_HASHNAME ? _STAT_HASHNAME : e)
    }

    function getCookie(a) {
        var e, f, b = document.cookie, c = removeBlanks(b), d = c.split(";");
        for (e = 0; e < d.length; e++)if (f = d[e].split("="), f.length > 1 && f[0] == a)return f[1];
        return ""
    }

    function removeBlanks(a) {
        var c, d, b = "";
        for (c = 0; c < a.length; c++)d = a.charAt(c), " " != d && (b += d);
        return b
    }

    function getRandomNum() {
        return Math.round(2147483647 * Math.random())
    }

    function getVistor(a) {
        var g, b = getCookie("xm_vistor"), c = !0, d = "", e = 0, f = (new Date).getTime();
        return "" !== b && (g = b.split("-"), 2 == g.length && (d = g[0], e = g[1], 18e5 >= f - e && (c = !1))), c && (d = a + "_" + f), e = f, d
    }

    function getMstuid() {
        var a = new Date, b = a.getTime() + "_" + Math.round(1e4 * Math.random());
        return b
    }

    function uuid(a, b) {
        var e, f, c = "0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split(""), d = [];
        if (b = b || c.length, a)for (e = 0; a > e; e++)d[e] = c[0 | Math.random() * b]; else for (d[8] = d[13] = d[18] = d[23] = "-", d[14] = "4", e = 0; 36 > e; e++)d[e] || (f = 0 | 16 * Math.random(), d[e] = c[19 == e ? 8 | 3 & f : f]);
        return d.join("")
    }

    function getDomain() {
        var c, a = window.location.hostname, b = a.split(".");
        return size = b.length, c = "." + b[size - 2] + "." + b[size - 1]
    }

    function getLanguage() {
        return navigator.language || navigator.userLanguage || navigator.browserLanguage || navigator.systemLanguage
    }

    function getVendor() {
        return navigator.vendor
    }

    function getPlatform() {
        return navigator.platform
    }

    function getScreen() {
        return screen.width + "*" + screen.height
    }

    function getVars() {
        var b, a = "";
        if (vars == [])return "";
        for (b in vars)a += "&" + b + "=" + encodeURIComponent(vars[b]);
        return a
    }

    function getBaseParam() {
        var e, f, g, h, i, j, k, n, p, q, r, s, t, u, v, w, x, y, z, A, B, C, D, E, F, a = document.location.href.replace(/&/g, "|"), b = document.referrer.replace(/&/g, "|");
        return b = b.toLowerCase(), b && (getRefDomain(b), getCookie("lastsource")), e = getCookie("xm_www_sid"), f = getCookie("mstuid"), g = getCookie("muuid"), h = getCookie("mucid"), i = getCookie("mutid"), j = getCookie("mstz") || "", ("" === j || j.split("|").length < 3) && (k = [], k[0] = "", k[1] = "", k[2] = getRandomNum().toString() + "." + 0, k.join("|")), j = getCookie("mstz"), n = j.split("|") || [], 4 == n.length ? 0 : 1, p = n[0] || "", q = n[1] || "", r = [], r = n[2].split("."), s = r[0], t = parseInt(r[1]) + 1, n[2] = r[0] + "." + t.toString(), u = n[3] || "", v = n[4] || "", w = n[5] || "", x = 0, y = encodeURIComponent(b), "" == y && (v = "", w = ""), y != v && a != b ? (w = v, v = y) : "" != y && (x = 1), n[3] = u, n[4] = v, n[5] = w, z = getCookie("lastsource"), A = 0, B = new Date, B.setTime(B.getTime() + 62208e6), "" === f && (A = 1, f = getMstuid()), C = "", D = new Date, vars["curl"] = location.href, vars["xmv"] = getVistor(f), vars["v"] = "1.4.09", void 0 === vars["vuuid"] && (vars["vuuid"] = uuid(16, 32)), E = getCookie("userId"), F = "", isApp && (E || (E = triggerString("get_encrypt_uid")), F = triggerString("get_shop_deviceid")), C = "mid=" + (getCookie("euid") || E) + "&device_id=" + F + "&phpsessid=" + e + "&mstuid=" + f + "&muuid=" + g + "&mucid=" + h + "&sessionId=" + s + "&step=" + t + "&new_visitor=" + A + "&mstprevpid=" + encodeURIComponent(p) + "&mstprev_pid_loc=" + u + "&prevtarget=" + q + "&lastsource=" + z + "&timestamp=" + D.getTime() + "&ref=" + y + "&domain=" + getDomain() + "&screen=" + getScreen() + "&language=" + getLanguage() + "&vendor=" + getVendor() + "&platform=" + getPlatform() + "&gu=" + w + "&pu=" + v + "&rf=" + x + "&mutid=" + i + "&muwd=" + encodeURIComponent(getCookie("muwd"))
    }

    function _init() {
        _isInitialized || (_defaultSettings = {
            elements_selector: "img",
            container: window,
            threshold: 300,
            throttle: 300,
            skip_invisible: !0,
            callback_load: null,
            callback_error: null,
            callback_set: null,
            callback_processed: null
        }, _supportsAddEventListener = !!window.addEventListener, _supportsAttachEvent = !!window.attachEvent, _supportsClassList = !!document.body.classList, _isInitialized = !0)
    }

    function _addEventListener(a, b, c) {
        return _supportsAddEventListener ? (a.addEventListener(b, c), void 0) : (_supportsAttachEvent && (a.attachEvent("on" + b, function (a) {
                return function () {
                    c.call(a, window.event)
                }
            }(a)), a = null), void 0)
    }

    function _removeEventListener(a, b, c) {
        return _supportsAddEventListener ? (a.removeEventListener(b, c), void 0) : (_supportsAttachEvent && a.detachEvent("on" + b, c), void 0)
    }

    function _isInsideViewport(a, b, c) {
        function g() {
            return window.innerWidth || d.documentElement.clientWidth || document.body.clientWidth
        }

        function h() {
            return window.innerHeight || d.documentElement.clientHeight || document.body.clientHeight
        }

        function i(a) {
            return a.getBoundingClientRect().top + e - d.documentElement.clientTop
        }

        function j(a) {
            return a.getBoundingClientRect().left + f - d.documentElement.clientLeft
        }

        function k() {
            var d;
            return d = b === window ? h() + e : i(b) + b.offsetHeight, d <= i(a) - c
        }

        function l() {
            var d;
            return d = b === window ? g() + window.pageXOffset : j(b) + g(), d <= j(a) - c
        }

        function m() {
            var d;
            return d = b === window ? e : i(b), d >= i(a) + c + a.offsetHeight
        }

        function n() {
            var d;
            return d = b === window ? f : j(b), d >= j(a) + c + a.offsetWidth
        }

        var d, e, f;
        return d = a.ownerDocument, e = window.pageYOffset || d.body.scrollTop, f = window.pageXOffset || d.body.scrollLeft, !(k() || m() || l() || n())
    }

    function _now() {
        var a = new Date;
        return a.getTime()
    }

    function _merge_objects(a, b) {
        var d, c = {};
        for (d in a)a.hasOwnProperty(d) && (c[d] = a[d]);
        for (d in b)b.hasOwnProperty(d) && (c[d] = b[d]);
        return c
    }

    function _convertToArray(a) {
        try {
            return Array.prototype.slice.call(a)
        } catch (b) {
            var d, c = [], e = a.length;
            for (d = 0; e > d; d++)c.push(a[d]);
            return c
        }
    }

    function _bind(a, b) {
        return function () {
            return a.apply(b, arguments)
        }
    }

    function LazyLoad(a) {
        _init(), this._settings = _merge_objects(_defaultSettings, a), this._queryOriginNode = this._settings.container === window ? document : this._settings.container, this._previousLoopTime = 0, this._loopTimeout = null, this._handleScrollFn = _bind(this.handleScroll, this), _addEventListener(window, "resize", this._handleScrollFn), this.update()
    }

    var _defaultSettings, _supportsAddEventListener, _supportsAttachEvent, _supportsClassList, _msf, initMsq, vars, userAgent, _we, isApp, triggerString, defaults, _Options, _Global, linksignCommon, loadScript, linkDataSign, getLocationName, _setAttrs, _trackEvent, objectValues, _isInitialized = !1, exposure = null, msf = function () {
        this.p = []
    };
    msf.prototype.push = function (a) {
        return "function" == typeof a[0] ? (a[0](a.slice(1)), void 0) : (("setDomainId" == a[0] || "setVars" == a[0]) && this[a[0]](a.slice(1)), void 0)
    }, msf.prototype.setVars = function (a) {
        vars[a[0]] = a[1]
    }, msf.prototype.setDomainId = function (a) {
        vars["domain_id"] = a[0]
    }, _msf = new msf, _msf.p = window._msq.p, initMsq = function () {
        for (i = 0; i < _msf.p.length; i++)_msf.push(_msf.p[i])
    }, vars = [], initMsq(), userAgent = navigator.userAgent.toLowerCase(), _we = window.WE || {}, isApp = function () {
        return "undefined" != typeof WE && -1 !== userAgent.indexOf("xiaomi/miuibrowser/4.3/shop") && -1 === userAgent.indexOf("iphone") ? !0 : !1
    }(), triggerString = function (a) {
        return _we.triggerString && _we.triggerString(a, "") || ""
    }, LazyLoad.prototype._loopThroughElements = function () {
        var i, element, settings = this._settings, elements = this._elements, elementsLength = elements ? elements.length : 0, insideLogs = [], insideLogCodes = [], logValue = "", logCodeValue = "", processedIndexes = [];
        for (i = 0; elementsLength > i; i++)element = elements[i], settings.skip_invisible && null === element.offsetParent || _isInsideViewport(element, settings.container, settings.threshold) && ((logValue = element.getAttribute("data-log_code")) && (insideLogs.push(logValue), (logCodeValue = element.getAttribute("onclick")) && (logCodeValue = eval(logCodeValue.replace("_msq.push", "")), 5 == logCodeValue.length && insideLogCodes.push(logCodeValue[1]))), processedIndexes.push(i), element.wasProcessed = !0);
        for (insideLogs.length && this._sendData(insideLogCodes.join(";"), encodeURIComponent(insideLogs.join(";"))); processedIndexes.length > 0;)elements.splice(processedIndexes.pop(), 1), settings.callback_processed && settings.callback_processed(elements.length);
        0 === elementsLength && this._stopScrollHandler()
    }, LazyLoad.prototype._sendData = function (a, b) {
        var c, d, e, f;
        vars["pageid"] = getPcid(), c = getBaseParam(), d = getVars(), e = document.createElement("script"), e.type = "text/javascript", e.async = !0, e.src = "//a.stat.xiaomi.com/js/mstr.js?" + c + d + "&type=sp&logs=" + a + "&log_codes=" + b, f = document.getElementsByTagName("script")[0], f.parentNode.insertBefore(e, f)
    }, LazyLoad.prototype._purgeElements = function () {
        var a, b, c = this._elements, d = c.length, e = [];
        for (a = 0; d > a; a++)b = c[a], b.wasProcessed && e.push(a);
        for (; e.length > 0;)c.splice(e.pop(), 1)
    }, LazyLoad.prototype._startScrollHandler = function () {
        this._isHandlingScroll || (this._isHandlingScroll = !0, _addEventListener(this._settings.container, "scroll", this._handleScrollFn))
    }, LazyLoad.prototype._stopScrollHandler = function () {
        this._isHandlingScroll && (this._isHandlingScroll = !1, _removeEventListener(this._settings.container, "scroll", this._handleScrollFn))
    }, LazyLoad.prototype.handleScroll = function () {
        var a, b, c;
        this._settings && (b = _now(), c = this._settings.throttle, 0 !== c ? (a = c - (b - this._previousLoopTime), 0 >= a || a > c ? (this._loopTimeout && (clearTimeout(this._loopTimeout), this._loopTimeout = null), this._previousLoopTime = b, this._loopThroughElements()) : this._loopTimeout || (this._loopTimeout = setTimeout(_bind(function () {
                    this._previousLoopTime = _now(), this._loopTimeout = null, this._loopThroughElements()
                }, this), a))) : this._loopThroughElements())
    }, LazyLoad.prototype.update = function () {
        this._elements = _convertToArray(this._queryOriginNode.querySelectorAll(this._settings.elements_selector)), this._purgeElements(), this._loopThroughElements(), this._startScrollHandler()
    }, LazyLoad.prototype.destroy = function () {
        _removeEventListener(window, "resize", this._handleScrollFn), this._loopTimeout && (clearTimeout(this._loopTimeout), this._loopTimeout = null), this._stopScrollHandler(), this._elements = null, this._queryOriginNode = null, this._settings = null
    }, defaults = {
        propertyName: "data-stat-id",
        urlParam: "stat",
        needMap: !0,
        domain: ".mi.com",
        live: !1
    }, _Global = {
        parentLoop: !1,
        sonLoop: !1,
        drawDataScript: "http://c1.mifile.cn/f/i/15/stat/js/jquery.dataDraw.min.js",
        jquerySource: "http://s01.mifile.cn/js/lib/jquery.min.js",
        re: {
            normalEnd: /\/(index.php|index.html|index.htm|index)$/,
            snapshotModalDate: /^(\/\d{10}\/)/,
            snapshotModalEnd: /.html$/
        },
        locationObj: {protocol: location.protocol + "//", host: location.host, pathname: location.pathname}
    }, linksignCommon = {
        isSnapshotModal: function () {
            return "file.stat.be.xiaomi.com" == location.host ? !0 : !1
        }, hashSnapshotModal: function () {
            return _Global.locationObj.protocol + location.pathname.replace(_Global.re.snapshotModalDate, "").replace(_Global.re.snapshotModalEnd, "").replace(_Global.re.normalEnd, "/")
        }, getPageHash: function () {
            var b, a = _Global.locationObj;
            return a.pathname = a.pathname.replace(_Global.re.normalEnd, "/"), b = this.isSnapshotModal() ? this.hashSnapshotModal() : objectValues(a, ""), "undefined" != typeof _STAT_HASHNAME && "" != _STAT_HASHNAME ? md5(_STAT_HASHNAME) : md5(b)
        }, isOpenCanvas: function () {
            return _Options.needMap && getLocationName(_Options.urlParam, "search") && "true" == getLocationName(_Options.urlParam, "search") ? !0 : !1
        }, trim: function (a) {
            try {
                return a.replace(/\s/g, "")
            } catch (b) {
                return a
            }
        }, appendStatModal: function (a) {
            var c, e, f, g, b = linksignCommon.trim(a.attr("href")) || "";
            this.isOpenCanvas() && -1 != b.indexOf("/") && (-1 == b.indexOf("http") || -1 != b.indexOf(_Options.domain)) && (_Options.urlParam + "=true", e = {
                hashName: b.split("#"),
                searchName: b.split("?")
            }, this.isSnapshotModal() ? (f = e.searchName[0].replace("http://", ""), g = location.pathname.replace(_Global.re.snapshotModalDate, "").replace(_Global.re.snapshotModalEnd, ""), c = location.href.replace(g, f)) : c = e.hashName[1] ? e.hashName[0] + "?" + _Options.urlParam + "=true" + "#" + e.hashName[1] : e.searchName[1] ? b + "&" + _Options.urlParam + "=true" : b + "?" + _Options.urlParam + "=true", a.attr("href", c))
        }
    }, loadScript = function (a, b) {
        var c, d = document.head || document.getElementsByTagName("head")[0] || document.documentElement;
        c = document.createElement("script"), c.async = "async", c.src = a, c.onload = c.onreadystatechange = function () {
            (!c.readyState || /loaded|complete/.test(c.readyState)) && (c.onload = c.onreadystatechange = null, d && c.parentNode && d.removeChild(c), c = void 0, b())
        }, d.insertBefore(c, d.firstChild)
    }, linkDataSign = function () {
        "undefined" == typeof jQuery ? loadScript(_Global.jquerySource, function () {
                loadScript(_Global.drawDataScript, function () {
                    $("body").linkSigntoDraw({pageID: linksignCommon.getPageHash(), live: _Options.live})
                })
            }) : loadScript(_Global.drawDataScript, function () {
                $("body").linkSigntoDraw({pageID: linksignCommon.getPageHash(), live: _Options.live})
            })
    }, getLocationName = function (a, b) {
        var g, h, c = "", d = !1, e = "hash" == b ? location.hash : location.search, f = "hash" == b ? "#" : "?";
        if (0 === e.length)return c;
        if (0 == e.indexOf(f) && e.indexOf("=") > 1)for (g = e.substring(1, e.length).split("&"), h = 0; h < g.length && !d;)g[h].indexOf("=") > 0 && g[h].split("=")[0].toLowerCase() == a.toLowerCase() && (c = g[h].split("=")[1], d = !0), h++;
        return c
    }, _setAttrs = function (a, b, c) {
        var d = $(a).hasClass("J_linksign-customize"), e = d ? $(a).children() : $(a).find("a"), f = {
            page: linksignCommon.getPageHash(),
            point: null
        }, g = e.length - 1, h = linksignCommon.isOpenCanvas();
        b === c && (_Global.parentLoop = !0), e.each(function (a, c) {
            var e, i, j, k, l, m, n, o, p, q, r;
            "true" != $(c).attr("data-stat-exclude") && (e = linksignCommon.trim($(c).attr("href")) || $(c).attr("data-stat-productid") || "", i = linksignCommon.trim($(c).text()), j = $(c).parent().parent().attr("class") || $(c).parent().parent().parent().attr("class") || "", k = b + "" + a, l = $(c).attr("data-stat-aid"), m = $(c).attr("data-stat-pid"), n = $(c).attr("data-log_code") || "", e = -1 !== e.indexOf(_Options.domain) ? e.split("?")[0] : e, o = e + i + j, o = d ? o + k : o, f.point = m ? l + "+" + m : md5(o), p = $(c).attr("onclick") || "", q = _trackEvent(objectValues(f, "-"), e, n), r = q + p, $(c).attr(_Options.propertyName) || $(c).attr(_Options.propertyName, f.point).attr("onclick", r), linksignCommon.appendStatModal($(c)), _Global.parentLoop === !0 && a === g && h && (_Global.sonLoop = !0, linkDataSign()))
        })
    }, _trackEvent = function (a, b, c) {
        return "_msq.push(['trackEvent', '" + a + "', '" + b + "', 'pcpid', '" + c + "']);"
    }, objectValues = function (a, b) {
        var d, e, c = [];
        if ("undefined" != typeof a)for (d in a)e = a[d], e = null == e || "" == e ? "00" : e, c.push(e);
        return c.join(b)
    }, $.fn.linkSign = function (a) {
        _Options = $.extend(defaults, a);
        var b = this.length - 1;
        this.each(function (a) {
            _setAttrs(this, a, b)
        }), exposure ? exposure.update() : exposure = new LazyLoad({elements_selector: ".exposure"})
    }, $(function () {
        $("body,.J_linksign-customize").linkSign()
    })
}(window.jQuery || Zepto);
